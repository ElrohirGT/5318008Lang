class Animal {
	let name = 123;

	function setName(newName: string) {
		this.name = 4;
	}
}

let an = new Animal();
an.setName("Default Name");
---
# Code generated by 5318008Lang compiler.
# Checkout our repository here: https://github.com/ElrohirGT/5318008Lang
# The following code is designed to run on the compiler: https://cpulator.01xz.net/?sys=mipsr5-spim
.data
panic_prefix:		.asciiz		"panic: "
zero_division_exception:		.asciiz		"division by zero"
idx_out_of_range_exception:		.asciiz		"idx out of range"
err_pointer:		.word		0

.text
# Main start of our program
.global _start
_start:
	jal main
	li $v0, 10
	syscall		# Use syscall 10 to stop simulation

main:
	addiu $sp, $sp, -40
# ALLOC t7 4
	la $t0, 4($sp)
	sw $t0, 0($sp)
# // this
# PARAM t7
	lw $t0, 0($sp)
	sw $s0, 8($sp)
	move $s0, $t0
# // newAnimal()
# CALL Animal_constructor 1
	sw $ra, 36($sp)
	jal Animal_constructor
	lw $ra, 36($sp)
	lw $s0, 8($sp)
# ALLOC t8 16
	la $t0, 12($sp)
	sw $t0, 8($sp)
# SBO t8 0 68
	li $t0, 0
	li $t1, 68
	lw $t2, 8($sp)
	addu $t2, $t2, $t0
	sb $t1, 0($t2)
# SBO t8 1 101
	li $t0, 1
	li $t1, 101
	lw $t2, 8($sp)
	addu $t2, $t2, $t0
	sb $t1, 0($t2)
# SBO t8 2 102
	li $t0, 2
	li $t1, 102
	lw $t2, 8($sp)
	addu $t2, $t2, $t0
	sb $t1, 0($t2)
# SBO t8 3 97
	li $t0, 3
	li $t1, 97
	lw $t2, 8($sp)
	addu $t2, $t2, $t0
	sb $t1, 0($t2)
# SBO t8 4 117
	li $t0, 4
	li $t1, 117
	lw $t2, 8($sp)
	addu $t2, $t2, $t0
	sb $t1, 0($t2)
# SBO t8 5 108
	li $t0, 5
	li $t1, 108
	lw $t2, 8($sp)
	addu $t2, $t2, $t0
	sb $t1, 0($t2)
# SBO t8 6 116
	li $t0, 6
	li $t1, 116
	lw $t2, 8($sp)
	addu $t2, $t2, $t0
	sb $t1, 0($t2)
# SBO t8 7 32
	li $t0, 7
	li $t1, 32
	lw $t2, 8($sp)
	addu $t2, $t2, $t0
	sb $t1, 0($t2)
# SBO t8 8 78
	li $t0, 8
	li $t1, 78
	lw $t2, 8($sp)
	addu $t2, $t2, $t0
	sb $t1, 0($t2)
# SBO t8 9 97
	li $t0, 9
	li $t1, 97
	lw $t2, 8($sp)
	addu $t2, $t2, $t0
	sb $t1, 0($t2)
# SBO t8 10 109
	li $t0, 10
	li $t1, 109
	lw $t2, 8($sp)
	addu $t2, $t2, $t0
	sb $t1, 0($t2)
# SBO t8 11 101
	li $t0, 11
	li $t1, 101
	lw $t2, 8($sp)
	addu $t2, $t2, $t0
	sb $t1, 0($t2)
# SBO t8 15 0
	li $t0, 15
	li $t1, 0
	lw $t2, 8($sp)
	addu $t2, $t2, $t0
	sb $t1, 0($t2)
# // this -> an
# PARAM t7
	lw $t0, 0($sp)
	sw $s0, 28($sp)
	move $s0, $t0
# // "Default Name"
# PARAM t8
	lw $t0, 8($sp)
	sw $s1, 32($sp)
	move $s1, $t0
# // an.setName("Default Name")
# CALL Animal_setName 2
	sw $ra, 36($sp)
	jal Animal_setName
	lw $ra, 36($sp)
	lw $s0, 28($sp)
	lw $s1, 32($sp)
# END
	addiu $sp, $sp, 40
	jr $ra
# 
# FUNC Animal_constructor:
Animal_constructor:
	addiu $sp, $sp, -16
# 	// this
# 	LOAD t1
# 	ADD t2 0 0
	li $t0, 0
	li $t1, 0
	add $t2, $t0, $t1
# 	= t3 i32 123
	li $t0, 123
	sw $t0, 0($sp)
# 	END
	addiu $sp, $sp, 16
	jr $ra
# FUNC Animal_setName:
Animal_setName:
	addiu $sp, $sp, -20
# 	// this
# 	LOAD t4
# 	// newName
# 	LOAD t5
# 	= t6 i32 0
	li $t0, 0
	sw $t0, 0($sp)
# 	SWO t4 t6 4
	lw $t0, 0($sp)
	li $t1, 4
	move $t3, $s0
	addu $t3, $t3, $t0
	sw $t1, 0($t3)
# 	END
	addiu $sp, $sp, 20
	jr $ra

_EXCEPTION_HANDLER:
	la   $a0, panic_prefix
	li   $v0, 4
	syscall

	lw   $a0, err_pointer
	li   $v0, 4
	syscall

	li   $a0, 10
	li   $v0, 11
	syscall

	li   $v0, 10
	syscall